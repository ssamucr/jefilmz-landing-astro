---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
---

<Layout 
  title="Contacto" 
  description="Contacta con JEFILMZ para tu pr√≥ximo proyecto de fotograf√≠a, video o contenido a√©reo. Trabajemos juntos."
  currentPath="/contacto"
>
  <Navbar currentPath="/contacto" />
  
  <main class="contact-page">
    <section class="contact-hero">
      <div class="container">
        <div class="hero-content">
          <h1>Hablemos de tu proyecto</h1>
          <p class="hero-subtitle">
            ¬øTienes una idea? ¬øUn evento pr√≥ximo? ¬øNecesitas contenido que conecte?
            Cu√©ntame tu visi√≥n y hagamos que suceda.
          </p>
        </div>
      </div>
    </section>

    <section class="contact-main">
      <div class="container">
        <div class="contact-grid">
          <!-- Formulario de contacto -->
          <div class="contact-form-section">
            <h2>Cu√©ntame sobre tu proyecto</h2>
            <form class="contact-form" id="contactForm" action="#" method="POST">
              <div class="form-group">
                <label for="nombre">Nombre completo *</label>
                <input 
                  type="text" 
                  id="nombre" 
                  name="nombre" 
                  required
                  placeholder="Tu nombre"
                >
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="email">Email *</label>
                  <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    required
                    placeholder="tu@email.com"
                  >
                </div>
                
                <div class="form-group">
                  <label for="telefono">Tel√©fono</label>
                  <input 
                    type="tel" 
                    id="telefono" 
                    name="telefono"
                    placeholder="+1 234 567 890"
                  >
                </div>
              </div>

              <div class="form-group">
                <label for="empresa">Empresa / Marca</label>
                <input 
                  type="text" 
                  id="empresa" 
                  name="empresa"
                  placeholder="Nombre de tu empresa o marca"
                >
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="servicio">Tipo de servicio *</label>
                  <select id="servicio" name="servicio" required>
                    <option value="">Selecciona un servicio</option>
                    <option value="fotografia">Fotograf√≠a de eventos</option>
                    <option value="video">Producci√≥n de video</option>
                    <option value="dron">Tomas a√©reas</option>
                    <option value="redes">Contenido para redes sociales</option>
                    <option value="combinado">Servicio combinado</option>
                    <option value="otro">Otro (especificar en mensaje)</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label for="presupuesto">Presupuesto estimado</label>
                  <select id="presupuesto" name="presupuesto">
                    <option value="">Selecciona un rango</option>
                    <option value="500-1000">$500 - $1,000 USD</option>
                    <option value="1000-2500">$1,000 - $2,500 USD</option>
                    <option value="2500-5000">$2,500 - $5,000 USD</option>
                    <option value="5000+">$5,000+ USD</option>
                    <option value="consultar">Prefiero consultar</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label for="fecha">Fecha del evento/proyecto</label>
                <input 
                  type="date" 
                  id="fecha" 
                  name="fecha"
                >
              </div>

              <div class="form-group">
                <label for="mensaje">Cu√©ntame sobre tu proyecto *</label>
                <textarea 
                  id="mensaje" 
                  name="mensaje" 
                  rows="6" 
                  required
                  placeholder="Describe tu proyecto, objetivos, ubicaci√≥n, n√∫mero de personas, duraci√≥n, tipo de contenido que necesitas, referencias o cualquier detalle importante..."
                ></textarea>
              </div>

              <div class="form-group">
                <label for="referencias">Referencias o archivos</label>
                <input 
                  type="file" 
                  id="referencias" 
                  name="referencias"
                  multiple
                  accept="image/*,video/*,.pdf"
                >
                <small>Puedes subir im√°genes de referencia, mood boards o documentos (m√°x. 10MB por archivo)</small>
              </div>

              <div class="form-group checkbox-group">
                <label class="checkbox-label">
                  <input type="checkbox" name="newsletter" value="si">
                  <span class="checkmark"></span>
                  Quiero recibir actualizaciones sobre nuevos trabajos y ofertas especiales
                </label>
              </div>

              <button type="submit" class="btn btn-primary submit-btn">
                <span class="btn-text">Enviar propuesta</span>
                <span class="btn-loading" style="display: none;">Enviando...</span>
              </button>
            </form>
          </div>

          <!-- Informaci√≥n de contacto -->
          <div class="contact-info-section">
            <div class="contact-info">
              <h3>Informaci√≥n de contacto</h3>
              
              <div class="contact-item">
                <div class="contact-icon">üìß</div>
                <div class="contact-details">
                  <strong>Email</strong>
                  <a href="mailto:hello@jefilmz.com">hello@jefilmz.com</a>
                </div>
              </div>

              <div class="contact-item">
                <div class="contact-icon">üì±</div>
                <div class="contact-details">
                  <strong>WhatsApp</strong>
                  <a href="https://wa.me/1234567890" target="_blank">+1 (234) 567-890</a>
                </div>
              </div>

              <div class="contact-item">
                <div class="contact-icon">üìç</div>
                <div class="contact-details">
                  <strong>Ubicaci√≥n</strong>
                  <span>Ciudad, Pa√≠s<br>Trabajo en toda la regi√≥n</span>
                </div>
              </div>

              <div class="contact-item">
                <div class="contact-icon">üì∏</div>
                <div class="contact-details">
                  <strong>Instagram</strong>
                  <a href="https://instagram.com/jefilmz" target="_blank">@jefilmz</a>
                </div>
              </div>
            </div>

            <div class="response-time">
              <h4>Tiempo de respuesta</h4>
              <p>
                Normalmente respondo dentro de las <strong>24 horas</strong>. 
                Para proyectos urgentes, cont√°ctame directamente por WhatsApp.
              </p>
            </div>

            <div class="availability">
              <h4>Disponibilidad</h4>
              <div class="availability-calendar">
                <div class="month-availability">
                  <strong>Este mes:</strong>
                  <span class="status available">Disponible</span>
                </div>
                <div class="month-availability">
                  <strong>Pr√≥ximo mes:</strong>
                  <span class="status limited">Limitado</span>
                </div>
              </div>
              <p class="availability-note">
                Para mejores fechas, recomiendo contactar con al menos 2 semanas de anticipaci√≥n.
              </p>
            </div>

            <div class="quick-contact">
              <h4>Contacto r√°pido</h4>
              <div class="quick-buttons">
                <a href="https://wa.me/1234567890" class="quick-btn whatsapp" target="_blank">
                  <span class="quick-icon">üí¨</span>
                  WhatsApp
                </a>
                <a href="mailto:hello@jefilmz.com" class="quick-btn email">
                  <span class="quick-icon">üìß</span>
                  Email
                </a>
                <a href="https://instagram.com/jefilmz" class="quick-btn instagram" target="_blank">
                  <span class="quick-icon">üì∏</span>
                  Instagram
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="faq-section">
      <div class="container">
        <h2>Preguntas frecuentes</h2>
        <div class="faq-grid">
          <div class="faq-item">
            <h3>¬øCu√°nto tiempo toma recibir las fotos/videos?</h3>
            <p>
              Para eventos: entrego un preview de highlights en 24-48h y la galer√≠a 
              completa en 5-7 d√≠as laborales. Para sesiones de producto: 3-5 d√≠as laborales.
            </p>
          </div>

          <div class="faq-item">
            <h3>¬øTrabajas fuera de la ciudad?</h3>
            <p>
              ¬°Por supuesto! Viajo para eventos especiales. Los costos de transporte 
              y alojamiento (si es necesario) se incluyen en la cotizaci√≥n.
            </p>
          </div>

          <div class="faq-item">
            <h3>¬øQu√© incluye el servicio?</h3>
            <p>
              Cobertura del evento, edici√≥n profesional, galer√≠a online privada, 
              im√°genes en alta resoluci√≥n y versiones optimizadas para redes sociales.
            </p>
          </div>

          <div class="faq-item">
            <h3>¬øTienes seguro y permisos para dron?</h3>
            <p>
              S√≠, cuento con todas las certificaciones necesarias, seguro de responsabilidad 
              civil y permisos para vuelos comerciales seg√∫n la regulaci√≥n local.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  .contact-page {
    padding-top: 80px;
  }

  .contact-hero {
    padding: var(--spacing-xl) 0 var(--spacing-lg);
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    text-align: center;
  }

  .hero-content h1 {
    font-size: clamp(2.5rem, 4vw, 3.5rem);
    margin-bottom: var(--spacing-sm);
    background: linear-gradient(135deg, var(--color-dark), var(--color-accent));
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .hero-subtitle {
    font-size: 1.2rem;
    color: var(--color-gray-dark);
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }

  .contact-main {
    padding: var(--spacing-xl) 0;
  }

  .contact-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--spacing-xl);
    align-items: start;
  }

  /* FORMULARIO */
  .contact-form-section h2 {
    font-size: 2rem;
    margin-bottom: var(--spacing-lg);
    color: var(--color-dark);
  }

  .contact-form {
    background: var(--color-white);
    padding: var(--spacing-lg);
    border-radius: 16px;
    box-shadow: var(--shadow-md);
    border: 1px solid var(--color-gray-light);
  }

  .form-group {
    margin-bottom: var(--spacing-md);
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-sm);
  }

  .form-group label {
    display: block;
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: var(--spacing-xs);
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    width: 100%;
    padding: var(--spacing-sm);
    border: 2px solid var(--color-gray-light);
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color var(--transition-fast);
    font-family: inherit;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--color-accent);
  }

  .form-group textarea {
    resize: vertical;
    min-height: 120px;
  }

  .form-group small {
    display: block;
    margin-top: var(--spacing-xs);
    color: var(--color-gray);
    font-size: 0.9rem;
  }

  .checkbox-group {
    display: flex;
    align-items: start;
    gap: var(--spacing-sm);
  }

  .checkbox-label {
    display: flex;
    align-items: start;
    gap: var(--spacing-xs);
    cursor: pointer;
    font-weight: normal;
    line-height: 1.5;
  }

  .checkbox-label input[type="checkbox"] {
    width: auto;
    margin: 0;
  }

  .submit-btn {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: 1.1rem;
    font-weight: 600;
  }

  .btn-loading {
    opacity: 0.7;
  }

  /* INFORMACI√ìN DE CONTACTO */
  .contact-info-section {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
  }

  .contact-info,
  .response-time,
  .availability,
  .quick-contact {
    background: var(--color-white);
    padding: var(--spacing-md);
    border-radius: 12px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--color-gray-light);
  }

  .contact-info h3,
  .response-time h4,
  .availability h4,
  .quick-contact h4 {
    margin-bottom: var(--spacing-sm);
    color: var(--color-dark);
  }

  .contact-item {
    display: flex;
    align-items: start;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-sm);
  }

  .contact-icon {
    font-size: 1.5rem;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-gray-light);
    border-radius: 50%;
  }

  .contact-details strong {
    display: block;
    color: var(--color-dark);
    margin-bottom: 2px;
  }

  .contact-details a {
    color: var(--color-accent);
    text-decoration: none;
  }

  .contact-details a:hover {
    text-decoration: underline;
  }

  .availability-calendar {
    margin-bottom: var(--spacing-sm);
  }

  .month-availability {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-xs);
  }

  .status {
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .status.available {
    background: #d1fae5;
    color: #065f46;
  }

  .status.limited {
    background: #fef3c7;
    color: #92400e;
  }

  .availability-note {
    font-size: 0.9rem;
    color: var(--color-gray);
    font-style: italic;
  }

  .quick-buttons {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
  }

  .quick-btn {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    transition: all var(--transition-fast);
  }

  .quick-btn.whatsapp {
    background: #25d366;
    color: white;
  }

  .quick-btn.email {
    background: var(--color-accent);
    color: white;
  }

  .quick-btn.instagram {
    background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
    color: white;
  }

  .quick-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  /* FAQ SECTION */
  .faq-section {
    padding: var(--spacing-xl) 0;
    background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
  }

  .faq-section h2 {
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: var(--spacing-xl);
    color: var(--color-dark);
  }

  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
  }

  .faq-item {
    background: var(--color-white);
    padding: var(--spacing-md);
    border-radius: 12px;
    box-shadow: var(--shadow-sm);
  }

  .faq-item h3 {
    font-size: 1.2rem;
    margin-bottom: var(--spacing-sm);
    color: var(--color-dark);
  }

  .faq-item p {
    color: var(--color-gray-dark);
    line-height: 1.6;
  }

  /* RESPONSIVE */
  @media (max-width: 1024px) {
    .contact-grid {
      grid-template-columns: 1fr;
      gap: var(--spacing-lg);
    }

    .contact-info-section {
      order: -1;
    }
  }

  @media (max-width: 768px) {
    .form-row {
      grid-template-columns: 1fr;
    }

    .faq-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  // Manejo del formulario de contacto
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contactForm');
    const submitBtn = form?.querySelector('.submit-btn');
    const btnText = submitBtn?.querySelector('.btn-text');
    const btnLoading = submitBtn?.querySelector('.btn-loading');

    if (!form || !submitBtn) return;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Mostrar estado de carga
      submitBtn.disabled = true;
      btnText.style.display = 'none';
      btnLoading.style.display = 'inline';

      try {
        // Recopilar datos del formulario
        const formData = new FormData(form);
        
        // Aqu√≠ puedes implementar el env√≠o real del formulario
        // Por ejemplo, usando fetch a un endpoint o servicio de email
        
        // Simulaci√≥n de env√≠o (reemplazar con implementaci√≥n real)
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        // Mostrar mensaje de √©xito
        showNotification('¬°Mensaje enviado correctamente! Te contactar√© pronto.', 'success');
        form.reset();
        
      } catch (error) {
        console.error('Error al enviar el formulario:', error);
        showNotification('Hubo un error al enviar el mensaje. Por favor, intenta de nuevo.', 'error');
      } finally {
        // Restaurar estado del bot√≥n
        submitBtn.disabled = false;
        btnText.style.display = 'inline';
        btnLoading.style.display = 'none';
      }
    });

    // Funci√≥n para mostrar notificaciones
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        z-index: 10000;
        max-width: 400px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        animation: slideInRight 0.3s ease-out;
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.3s ease-out';
        setTimeout(() => notification.remove(), 300);
      }, 5000);
    }

    // Validaci√≥n en tiempo real
    const requiredFields = form.querySelectorAll('[required]');
    requiredFields.forEach(field => {
      field.addEventListener('blur', () => {
        if (!field.value.trim()) {
          field.style.borderColor = '#ef4444';
        } else {
          field.style.borderColor = '#10b981';
        }
      });

      field.addEventListener('input', () => {
        if (field.style.borderColor === 'rgb(239, 68, 68)' && field.value.trim()) {
          field.style.borderColor = '#d1d5db';
        }
      });
    });
  });

  // A√±adir estilos para animaciones
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(100%);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes slideOutRight {
      from {
        opacity: 1;
        transform: translateX(0);
      }
      to {
        opacity: 0;
        transform: translateX(100%);
      }
    }
  `;
  document.head.appendChild(style);
</script>
